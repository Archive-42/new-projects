  

**Week 12 Study Guide**

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAAACCAIAAADD4d18AAAAKklEQVR4nO3YIQEAAAwCsAv618U+BmaLsbQ9AAAAAAAYiacGAAAAAGDoAfn/BdOvVOhIAAAAAElFTkSuQmCC" name="Picture 1" data-align="left" data-border="0" width="967" height="1" />  

  

  

**Table of Contents**

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAAACCAIAAADD4d18AAAAKklEQVR4nO3YIQEAAAwCsAv618U+BmaLsbQ9AAAAAAAYiacGAAAAAGDoAfn/BdOvVOhIAAAAAElFTkSuQmCC" name="Picture 2" data-align="left" data-border="0" width="967" height="1" />  

  

[Authentication Learning Objectives](#page1)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 3" data-align="left" data-border="0" width="3" height="3" />  

  

[Define the term authentication](#page1)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 4" data-align="left" data-border="0" width="3" height="3" />  

  

[Types of Secrets](#page1)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 5" data-align="left" data-border="0" width="3" height="3" />  

  

[Describe the difference between asymmetric and symmetric cryptographic algorithms](#page1)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 6" data-align="left" data-border="0" width="3" height="3" />  

  

[Identify "strong" vs. "broken" hash functions](#page2)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 7" data-align="left" data-border="0" width="3" height="3" />  

  

[Broken hash functions](#page2)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 8" data-align="left" data-border="0" width="3" height="3" />  

  

[Strong hash functions](#page2)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 9" data-align="left" data-border="0" width="3" height="3" />  

  

[Implement session-based authentication in an Express application](#page2)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 10" data-align="left" data-border="0" width="3" height="3" />  

  

[Implement a strong hash function to securely store passwords](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 11" data-align="left" data-border="0" width="3" height="3" />  

  

[Installing bcrypt](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 12" data-align="left" data-border="0" width="3" height="3" />  

  

[Generating a hashedPassword](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 13" data-align="left" data-border="0" width="3" height="3" />  

  

[Verifying a password against a hashed password](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 14" data-align="left" data-border="0" width="3" height="3" />  

  

[Describe and use the different security options for cookies](#page3)

  

[Application Programming Interfaces Objectives](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 15" data-align="left" data-border="0" width="3" height="3" />  

  

[Recall that REST is an acronym for Representational State Transfer](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 16" data-align="left" data-border="0" width="3" height="3" />  

  

[Describe how RESTful endpoints differ from traditional remote-procedure call (RPC) services](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 17" data-align="left" data-border="0" width="3" height="3" />  

  

[Identify and describe the RESTful meanings of the combinations of HTTP verbs and endpoint types for both HTML-based applications and APIs](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 18" data-align="left" data-border="0" width="3" height="3" />  

  

[HTTP Verbs](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 19" data-align="left" data-border="0" width="3" height="3" />  

  

[Resources](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 20" data-align="left" data-border="0" width="3" height="3" />  

  

[Given a data model, design RESTful endpoints that interact with the data model to define application functionality](#page3)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 21" data-align="left" data-border="0" width="3" height="3" />  

  

[Recall that RESTful is not a standard (like ECMAScript or URLs), but a common way to organize data interactions](#page4)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 22" data-align="left" data-border="0" width="3" height="3" />  

  

[Explain how RESTful APIs are meant to be stateless](#page4)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 23" data-align="left" data-border="0" width="3" height="3" />  

  

[Use the express.json() middleware to parse HTTP request bodies with type application/json](#page4)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 24" data-align="left" data-border="0" width="3" height="3" />  

  

[Determine the maximum data an API response needs and map the content from a Sequelize object to a more limited data object](#page4)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 25" data-align="left" data-border="0" width="3" height="3" />  

  

[Define a global Express error handler to return appropriate responses and status codes given a specific Accept header in the HTTP request](#page4)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 26" data-align="left" data-border="0" width="3" height="3" />  

  

[Define Cross-Origin Resource Sharing (CORS) and how it is implemented in some Web clients](#page5)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 27" data-align="left" data-border="0" width="3" height="3" />  

  

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 28" data-align="bottom" data-border="0" width="3" height="3" /> [Configure your API to use CORS to prevent unauthorized access from browser-based Web requests](#page5) [API Security Objectives](#page5)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 29" data-align="left" data-border="0" width="3" height="3" />  

[Explain the fundamental concepts of OAuth as a way to authenticate users](#page5)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 30" data-align="left" data-border="0" width="3" height="3" />  

  

[Describe the workflow of OAuth resource owner password credentials grant (RFC 6749 Section 4.3)](#page5)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 31" data-align="left" data-border="0" width="3" height="3" />  

  

[Describe the components of a JSON Web Token (JWT) and how it is constructed](#page5)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 32" data-align="left" data-border="0" width="3" height="3" />  

  

**Authentication Learning Objectives**

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAAACCAIAAADD4d18AAAAKklEQVR4nO3YIQEAAAwCsAv618U+BmaLsbQ9AAAAAAAYiacGAAAAAGDoAfn/BdOvVOhIAAAAAElFTkSuQmCC" name="Picture 33" data-align="left" data-border="0" width="967" height="1" />  

  

**Define the term authentication**

  

Authentication = Who

  

Authentication is verifying a user is who they say they are. This involves

  

the user having a *secret* or *credential* of some kind and supplying that to the server

  

and having the server verify that secret.

  

This differs from Authorization.

  

Authorization = What

  

Authorization is *what* Role or Permissions the user has.

  

**Types of Secrets**

  

**password** - Usually entered directly by the user

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 34" data-align="left" data-border="0" width="3" height="3" />  

  

**token** - Like a password but generated by the server and stored on the client

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 35" data-align="left" data-border="0" width="3" height="3" />  

  

so that the client can continue to make requests on the user's behalf.

  

Examples of this include OAUTH tokens and JWT Tokens.

  

**session id** - Similar to a token, this is used by the browser to keep track

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 36" data-align="left" data-border="0" width="3" height="3" />  

  

of a user's session with the server, thus verifying that the user is the

  

correct user. (This isn't enough on it's own to authenticate, you must use a

  

token or password first). But it still should be protected just like a

  

password or token.

  

**two factor authentication code** - A code a user enters in addition to

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 37" data-align="left" data-border="0" width="3" height="3" />  

  

their password, can be sent via SMS, Email or generated by some software

  

on the user's device.

  

**Describe the difference between asymmetric and symmetric cryptographic algorithms**

  

**Symmetric Encryption** - A single *private* key is used to encrypt some data

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 38" data-align="left" data-border="0" width="3" height="3" />  

  

using a lossless algorithm. You can use the *private* key to decrypt and

  

restore the original data

  

Examples:

  

1Password or LastPass encryption

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 39" data-align="left" data-border="0" width="3" height="3" />  

  

Encrypting your hard drive with Filevault

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 40" data-align="left" data-border="0" width="3" height="3" />  

  

or Bitlocker.

  

Using GNUPG to encrypt a file.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 41" data-align="left" data-border="0" width="3" height="3" />  

  

**Asymmetric Encryption** - A system with two keys, a *private* key

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 42" data-align="left" data-border="0" width="3" height="3" />  

  

and a *public* key. If Bob wants to send an encrypted message to Alice then

  

Bob uses his *private* key and Alice's *public* key to encrypt the message.

  

Now not even Bob can decrypt the message. The only way to decrypt the message

  

is for Alice to use her *private* key anb Bob's *public* key.

  

Examples:

  

Web Servers use SSL (Secure Socker Layer) to create an encrypted

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 43" data-align="left" data-border="0" width="3" height="3" />  

  

<span id="page2"></span> communication channel between the client's *private* key and the web server's

*public* key.

  

GNUPG can be used to send encrypted Emails to other users as

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 44" data-align="left" data-border="0" width="3" height="3" />  

  

long as you have that user's public key.

  

SSH (Secure Shell) creates an encrypted connection between a client and server to provide

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAQ0lEQVR4nGMxNjZmQAUsDBgAKsTNzW1mZnb27NlPnz5BhUxNTbu7uxcsWDBlyhSoEFB+9uzZQCGExs+fP8+cORPCBgCLGhdKdYNZRgAAAABJRU5ErkJggg==" name="Picture 45" data-align="left" data-border="0" width="3" height="3" />  

  

remote access (github also uses this for SSH git access)

  

**Identify "strong" vs. "broken" hash functions**

  

Hash functions are algorithms that generate a lossy *hash* of a value such that

  

the original value cannot be recovered if someone has the *hash*

  

A Salt is a random value added to a password *before* hashing and stored

  

alongside the password in the database. This makes rainbow tables of pre-computed

  

hashes less useful for figuring out the original password.

  

**Broken hash functions**

  

Currently these hash functions are "broken", meaning they should not be used

  

to store user passwords in a database at rest.

  

(Either because the algorithm has been solved, or the algorithm has been shown

  

to have a flaw)

  

1.  MD5

  

1.  SHA-1

  

**Strong hash functions**

  

These are currently "strong" hash functions:

  

1.  PBKDF2

  

1.  bcrypt

  

1.  Argon2

  

Neither of these are an exhaustive list, but these are common ones available

  

for use with NodeJS libraries and covered in this course.

  

It's still important to protect the hashes in your database because

  

if they are leaked, they can be attacked in several different ways.

  

*Brute force* - This is just where you try to hash every possible combination of

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 46" data-align="left" data-border="0" width="3" height="3" />  

  

characters until you get a matching hash. This is slow.

  

*Rainbow Attack* - You use a list of pre-computed hashes (A Rainbow Table) and

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 47" data-align="left" data-border="0" width="3" height="3" />  

  

compare the hash you want to crack against it. This is still slow but faster

  

than the brute force attack

  

**Implement session-based authentication in an Express application**

  

Session based authentication is where you use a session-id, stored in a cookie

  

to authenticate a user once they have first authenticated with a password.

  

This is the package we use for express session authentication:

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAABaCAIAAAAjPFfmAAADQ0lEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+AMfWkA5nv7ZJwAAAABJRU5ErkJggg==" name="Picture 48" data-align="left" data-border="0" width="967" height="45" />  

  

  

npm install express-session

  

  

We configure it as express middleware like so.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAADCCAIAAADSCcPIAAAGdklEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+ANfH0HZI2liGQAAAABJRU5ErkJggg==" name="Picture 49" data-align="left" data-border="0" width="967" height="97" />  

  

  

app.use(session({

  

secret: 'a5d63fc5-17a5-459c-b3ba-6d81792158fc', *// Secret used to verify the session-id*

  

re\`sa\`ve: false, *// Recommended by the express-session package*

  

saveUninitialized: false, *// Recommended by the express-session package*

  

}));

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAABECAIAAAAz9+PLAAAAI0lEQVR4nGN59+7d+/fvGTAAC6bQqMSoxKjEqMSoxKgEPSUAqIsGqB6yQTkAAAAASUVORK5CYII=" name="Picture 50" data-align="left" data-border="0" width="4" height="34" />  

  

  

The secret should probably be stored in an *environment variable* in your .env

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAeCAIAAAD/+uoYAAAAsElEQVR4nO3YsQ0DIQyFYQp33gd6dmEAJvEA7EIPHcNQc08iZaRIKXwg+a98V31CNJjWWs65OWfOuZTiTi2lJCLMjJn2rxhj7/1V1Y9woGOM1hpmwhmfL94BGUKotRJuxRXiHagA08n3+GsA09uGfzK0VobWytBaGVorQ2tlaK0MrZWhtTK0VobWilJKdz3IASYRGWPcsvrw3gNMzNxaCyGc74b4sxbb37XWKxaQe34AJilKL/HyN8wAAAAASUVORK5CYII=" name="Picture 51" data-align="left" data-border="0" width="30" height="15" />  

  

file instead of hard coded like this.

  

The middleware creates a .session property on the express req (Request) object.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAeCAIAAADlxgqWAAAAq0lEQVR4nO3YoRHEIBSEYcRz9AOeXiiASiiAXvDgKAZN9oZTNzfz5IvYX5Gob5KYjZxznHN771JKa81ZlHOutXrvcZZ7K6U05zTRIDyItdYY4wPCs7HV3ACIMfbeBW/KXHMDAxix+m7+BoxYG34jSIsgLYK0CNIiSIsgLYK0CNIiSIsgLcFqfM/wAEawYbEa3zDNQgjACBY1NixWo60Jmu+UvtfYsOY/G+75AaPASi+7qB1wAAAAAElFTkSuQmCC" name="Picture 53" data-align="left" data-border="0" width="24" height="15" /> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAAAeCAIAAABPBcwqAAAAzklEQVR4nO3aMQ6EIBBGYYrpuI/03oUDeBIO4F3oseMw1uwkbLtZ/Rtj8r4KrcgL2jA2xgghnOe5bdu+7wG/5ZxLKTFGX9t8ta7rcRyP7uoF/GD13ltrvjY/a1S7zkOllGqt5l8o1W7xXB7N+K8JPJo9vYe3IpyIcCLCiQgnIpyIcCLCiQgnIpyIcCLCiQgnIpyIcCLCiQgnIpyIcCLCiQgnspwzF113eTQrpfTeuVq9blkWj2YxxtZaSol2V3i17wjEfK61MnTz1xy6mesPWYxKL/7eNzkAAAAASUVORK5CYII=" name="Picture 52" data-align="left" data-border="0" width="52" height="15" />  

  

You can use this to store information you would like to persist for the user, such

  

as the user's id , or other information that is relevant for your application.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAeCAIAAADPdvs5AAAAmElEQVR4nO3XoRHAIAwFUEQc+4BnFwZgEgZgFzw4hkHT30uvqjYxzVeAeQeYHzrnOOf23qWU1pqTSc651uq9x5r4KKU05xTyEFxmrTXGuEncT9rjgIgx9t4J76ngvSo4kvu/z4AjTY9jpJFGGmmkkUYa+SsSPVqz5IEj9Hb0aJ0qG0IAR5gT0NvRo6VVeM+AwHv0doUxiNcXjHBKL09FgvYAAAAASUVORK5CYII=" name="Picture 54" data-align="left" data-border="0" width="19" height="15" />  

  

By default express-session stores the session data in memory. Which means if

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALgAAAAeCAIAAAAQFENjAAAA30lEQVR4nO3bsQ2DMBBGYRfXeR/cs4sHYBIPwC7uTedhqMlJTppEkL8jkd5XGSoXTzYFZ8dxhBD2fV+WZV3XALzknEspMUZf23g1z/O2bbfuCj/HD47ee2vN1+ZnCZXgjIeRUqq1mt84VIILnodHYnyX4CuPxO7eA/4DoUBCKJAQCiSEAgmhQEIokBAKJIQCCaFAQiiQEAokhAIJoUBCKJAQCiSEAgmhQEIokBAKJIQCieWc+REf1zwSK6X03hntwZlpmjwSizG21lJKtIJPXslzpHQ811oZUsebMaQ+1g8UG0ov8meHFQAAAABJRU5ErkJggg==" name="Picture 55" data-align="left" data-border="0" width="92" height="15" />  

  

you restart your express server you are going to lose your session data (all users

  

will suddenly be logged out of the sytem).

  

To remedy this you can configure a different mechanism for the session store.

  

We can use the connect-pg-simple module to connect to postgreSQL and store

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAAeCAIAAADrQ7a8AAAA4ElEQVR4nO3csRGEIBBGYYLN6Edye6EAK6EAeyHHjGKMuZ3hSpDfmbv3RWhE8AZNWBtjhBDu+z6O4zzPADwn51xKiTH62uarfd+v63p1V/hBfnj13ltrvjY/z+gM63haKaVaq/l3k86wlAfmmRn/ZxDwzOztPeBfkBpESA0ipAYRUoMIqUGE1CBCahAhNYiQGkRIDSKkBhFSgwipQYTUIEJqECE1iJAaREgNIqQGEVKDiOWcuTSF1TwzK6X03rkKinW2bfPMLMbYWkspURtW8M6+gxTmc62V8TB43BwPM9cfrcVKLyyhY0oAAAAASUVORK5CYII=" name="Picture 56" data-align="left" data-border="0" width="103" height="15" />  

  

the session in a table in our database.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAAEQCAIAAAAriHVYAAAI3ElEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACht67qe51mPAQAAAADAN3q/39u+7/d9X9dVDwMAAAAAwNfZHs81xjiOQ6oGAAAAAOA37fu+ruu//dRjjDmnBSAAAAAAAPyOMcayLM/jDxp9QxGguseqAAAAAElFTkSuQmCC" name="Picture 57" data-align="left" data-border="0" width="967" height="136" />  

  

  

**const** store = require('connect-pg-simple');

  

app.use(session({

  

store: **new** (store(session))(),

  

secret: 'a5d63fc5-17a5-459c-b3ba-6d81792158fc',

  

resave: false,

  

saveUninitialized: false,

  

}));

  

  

It will need an environment variable named DATABASE\_URL to know which

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAeCAIAAABBgHAAAAAA00lEQVR4nO3bsQ3EIBAFUYLN6Ady90IBrmQLoBdynFGMY99KXAOnC6wvzYvWjpBG2AnY8zwppfu+z/PsvScoaK25e845ZtuvjuO4ruvVVeEHsdnWWnPOmC32H/0URbJa6xjD4vtJP1ERLvIZ/z9pkc/eXgP+RUJ5JJRHQnkklEdCeSSUR0J5JJRHQnkklEdCeSSUR0J5JJRHQnkklEdCeSSUR0J5JJRnrTUOsemKfObuay2OkioqpUQ+yznPOWutVNQS/b4H8vfzGINrMUL2tZg9fwD3+Uov+x4ayQAAAABJRU5ErkJggg==" name="Picture 58" data-align="left" data-border="0" width="75" height="15" />  

  

postgreSQL database to connect to.

  

<span id="page3"></span>The postgreSQL url should look something like this:

<span class="sd-abs-pos" style="position: absolute; top: 0.39in; left: 0.47in; width: 967px"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAABaCAIAAAAjPFfmAAADQ0lEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+AMfWkA5nv7ZJwAAAABJRU5ErkJggg==" name="Picture 59" data-border="0" width="967" height="45" /> </span>DATABASE\_URL=postgresql://&lt;username>:&lt;password>@&lt;host>:&lt;port>/&lt;database name>

  

  

**Implement a strong hash function to securely store passwords**

  

We can use bcrypt to store a password hash in the database instead of storing

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAcCAIAAAB9HH/QAAAArUlEQVR4nO3ZsQ3EIAyFYQp37IN7dmEAJvEA7EIPHcOk5p7EldeekPL8V04qPpE0IHvvEMLzPLXW1lp4b6UUM4sxYpbzKuc857y6qr+HTV1rjTEwC/aZwXwCU1V774Jvm8R8AhZkeff//DOQ5fYa7uRsppzNlLOZcjZTzmbK2Uw5mylnM+VspqSUwnacBrKY2VqL5/A0pQSyxBjHGKrKIIf5ez1wnnvvJJdBZ/4A5W9KJ+XIW2sAAAAASUVORK5CYII=" name="Picture 60" data-align="left" data-border="0" width="41" height="14" />  

  

the plain text password, which is insecure.

  

**Installing bcrypt**

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAABaCAIAAAAjPFfmAAADQ0lEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+AMfWkA5nv7ZJwAAAABJRU5ErkJggg==" name="Picture 61" data-align="left" data-border="0" width="967" height="45" />  

  

  

npm install bcryptjs

  

  

**Generating a hashedPassword**

  

Then wherever you register a new user you can add a line like this to generate

  

a hash to store in the user table in the database

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAcCAIAAACyMksTAAAArElEQVR4nO3YoQ1EIQyAYUQd+1DPLgzAJAzALvXFdRg0rwknL7nkRB8k/VVBfSEYgLVWCGHOWWvtvYdTK6W01mKMOsPeyjmPMV5V/UgPVESYWWfQMz5fvFMkIhIR6K24QrxTqoLh5Hv8NQXD24Z/crRVjrbK0VY52ipHW+VoqxxtlaOtcrRVUEq565moYGiticgtD/KUkoIhxsjMiHi+W8Wfz5q9JqIrvsX2/AA8ikonnwOruAAAAABJRU5ErkJggg==" name="Picture 63" data-align="left" data-border="0" width="30" height="14" /> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAABaCAIAAAAjPFfmAAADQ0lEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+AMfWkA5nv7ZJwAAAABJRU5ErkJggg==" name="Picture 62" data-align="left" data-border="0" width="967" height="45" />  

  

  

**const** hashedPassword = **await** bcrypt.hash(password, 10);

  

  

**Verifying a password against a hashed password**

  

Whenever we need to login a user in, we just check the password they give us

  

against the hashed password from the database like so:

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAABaCAIAAAAjPFfmAAADQ0lEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+AMfWkA5nv7ZJwAAAABJRU5ErkJggg==" name="Picture 64" data-align="left" data-border="0" width="967" height="45" />  

  

  

**const** passwordMatch = **await** bcrypt.compare(password, user.hashedPassword.toString());

  

  

passwordMatch will be a boolean.

  

**Describe and use the different security options for cookies**

  

**httpOnly** - Makes the cookie only be able to be read and written by the

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 65" data-align="left" data-border="0" width="3" height="3" />  

  

browser and *not* by JavaScript.

  

**secure** - The browser will only send this cookie if the connection is HTTPS.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 66" data-align="left" data-border="0" width="3" height="3" />  

  

**domain** - If this isn't set it will assume the cookie should be the same

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 67" data-align="left" data-border="0" width="3" height="3" />  

  

as the site's domain.

  

**expires** - The date and time when the cookie expires

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 68" data-align="left" data-border="0" width="3" height="3" />  

  

**maxAge** - The number of milliseconds before the cookie expires (usually easier

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 69" data-align="left" data-border="0" width="3" height="3" />  

  

to use than expires)

  

**path** - Defaults to '/' but it's a prefix for the path in the URL that the cookie

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 70" data-align="left" data-border="0" width="3" height="3" />  

  

is valid for (seldom used)

  

**Application Programming Interfaces Objectives**

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAAACCAIAAADD4d18AAAAKklEQVR4nO3YIQEAAAwCsAv618U+BmaLsbQ9AAAAAAAYiacGAAAAAGDoAfn/BdOvVOhIAAAAAElFTkSuQmCC" name="Picture 71" data-align="left" data-border="0" width="967" height="1" />  

  

**Recall that REST is an acronym for Representational State Transfer**

  

**Describe how RESTful endpoints differ from traditional remote-procedure call (RPC) services**

  

For example, with a RESTful API, you would see a GET request to this path to retrieve a specific tweet: http://localhost/tweets/12 . In an RPC-based API, you could see a path similar to this http://localhost/getTweetById?id=12 . You need comprehensive documentation to know all of the different methods available by an RPC-designed API. You immediately know how to perform the basic CRUD (Create, Read, Update, Delete) operations on RESTful resources by using the HTTP verbs.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZgAAAAeCAIAAACex59zAAAA/klEQVR4nO3doXHDMBiGYQOx7OAxFO5NAhyuDbyBB8gu4Q7zCt7BOFWvXaBXkPvungdJTOg9SeQv7/d7GIbzPFtrj8djAAixbVuttS/Kz36aptfr9dEjAfxND9e6rvM8l34XUzEgUc/X/X4vXX9RqhiQa1mW4l8MiHYcR/n0GQD+S8iAeEIGxBMyIJ6QAfGEDIgnZEA8IQPiCRkQT8iAeEIGxBMyIJ6QAfGEDIgnZEA8IQPiCRkQT8iAeEIGxBMyIJ6QAfHKPM8GKQG5xnEs67ru+260JRDqe67l5XLZtu16vWoZkKXnq1/Fbrfb7x/Z8/lsrXljAkF6uGqtffEFwkVDBj26I78AAAAASUVORK5CYII=" name="Picture 73" data-align="left" data-border="0" width="204" height="15" /> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATIAAAAeCAIAAAAgvQVrAAAA70lEQVR4nO3doY3DMBiG4QCz7mLY8OxR2AEySQcIzB7mCUt3Kc5ZqnTgFsgn3fOgP8zklWNil/M8h2H4fD7zPC/LMgAXOY6j1tqH8v2epmnf90uXBP/d4/HoZfah9H1Sk5Dg/X6P49haK/3fVZMQosfYkyzOkxClJ1muXgPwlywhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhjiwhTnk+ny6/gxw9yfJ6vY7jcFUsJLjf7z3Jcrvdtm0bx1GZcK1aa49x+D1bttY8DQTXWtf1O/wATD1GJ9buqTgAAAAASUVORK5CYII=" name="Picture 72" data-align="left" data-border="0" width="153" height="15" />  

  

In RESTful APIs the URIs are the nouns while the HTTP methods are the verbs.

  

In RPC based APIs, you are calling a remote *function* on the server from the client,

  

so you will see a method name and parameters in the request or URI.

  

**Identify and describe the RESTful meanings of the combinations of HTTP verbs and endpoint types for both HTML-based applications and APIs**

  

**HTTP Verbs**

  

GET - Get a representation of resource

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAIAAACoDqudAAAAp0lEQVR4nO3XoRHAIAyFYUQc+4BnFwZgEgZgFzw4hkHT10tVr3eRqcivaNV3bUUfnXOcc3vvUkprzWmUc661eu9xJr6VUppzqmgQHsRaa4xxg/BsdDUcADHG3jvhTalrODCAIa3v5jNgSNvwzkBSBpIykJSBpAwkZSApA0kZSMpAUoRN9J/famAICw2b6A/DI4QADGEvYqFhE+maoHmGIl9joalPaT5fPXxKJ5riYQwAAAAASUVORK5CYII=" name="Picture 75" data-align="left" data-border="0" width="24" height="14" /> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 74" data-align="left" data-border="0" width="3" height="3" />  

  

POST - Create a new resource

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAAcCAIAAAB099+qAAAA90lEQVR4nO2ZMQ6EIBBFp6DjMlbSexY5ACfhAHoWeqjkMNbsT0iM2Ww5rBLmJSbQ4J+HTIGqlELcnOfpnNu2jX1lLqy13nutNcaqxQuWZUkptViZC2xPzjnGSOwKsP/vr7+CkMaYEAKzAnz/XdRfQVQEZlbw5vP/EwRu0gv6QhSIAlFAooBEAYkCqgrWdT2OA4NpmvZ9fzjR31FX/QADTEezoK76K1/TEZBeQArn/77zmD6W5SEUTv7o7RDPgGXfkV4gCkQBiQISBcSuwFrb1/UhAjMr8N7nnHu5RJ7nGYGZFWitY4zGmPdbQP1NfqVUQghd/FCr4w9C7WtLfHOsTAAAAABJRU5ErkJggg==" name="Picture 76" data-align="left" data-border="0" width="43" height="14" />  

  

PUT - Update a resource with complete data

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAIAAACoDqudAAAAp0lEQVR4nO3XoRHAIAyFYUQc+4BnFwZgEgZgFzw4hkHT10tVr3eRqcivaNV3bUUfnXOcc3vvUkprzWmUc661eu9xJr6VUppzqmgQHsRaa4xxg/BsdDUcADHG3jvhTalrODCAIa3v5jNgSNvwzkBSBpIykJSBpAwkZSApA0kZSMpAUoRN9J/famAICw2b6A/DI4QADGEvYqFhE+maoHmGIl9joalPaT5fPXxKJ5riYQwAAAAASUVORK5CYII=" name="Picture 78" data-align="left" data-border="0" width="24" height="14" /> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 77" data-align="left" data-border="0" width="3" height="3" />  

  

PATCH - Update a resource with partial data

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAcCAIAAAAV7/3oAAABBElEQVR4nO2ZOw6EIBRFLejYjJX0rkUW4EpYgK6FHitZjLVzDYmZzEziK/Az5J7q0SDvALcQta5rlZtlWfq+H4Yh+8xXYq11zmmtUaszPtC27TRNZ8x8JdjmGGMIocquCeeoDEcJNGKM8d5n1oS7VoyjBNpBU5k1/Xse/QRNnZJN5UFNIqhJBDWJoCYR1CSCmkRsmrqum+cZRV3X4zjevKJHonZHAAWGNPWN2h0lPoYkwWwSoZBH7ycIw9vW8mAUkogRfsh26ajmEGaTCGoSQU0iqEkENYnIrMlaW97vcDSVWZNzLsZY0uNK0zRoKrMmrXUIwRhThik4OuU5M+G9L+ZxPNUvJQxrS7FXi5QAAAAASUVORK5CYII=" name="Picture 79" data-align="left" data-border="0" width="49" height="14" />  

  

DELETE - Delete a resource

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAAAcCAIAAAALJs1bAAABB0lEQVR4nO2avQ2DMBCFKdx5GSrcMwsegEk8AMzi3lR4GGryIksoilIkykP58fuqc2P7Pp2P4jD7vjdstm0bx3GaJvrO34P3PoRgrUVszjig7/tlWc7Y+XtAieScU0oNXSJqsAaDBaTpnIsxkiXiFVdisIBkkTJZ4n/3wYcg5VN6Ym1IIgFJJCCJBCSRgCQSkEQCV4nDMKzriqBt23meP3yjH8QcBgECLOXxVcxhsHC3FM+gnkjAoA/eVh+WH7vLz2LQAfVheZPrc5a4N1FPJCCJBCSRgCQSkEQCZIne+9rGLEiZLDGEkHOuZ+DXdR1SJku01qaUnHM1eITBU4b3hRhjJb+RlPgCNs5rSx6ua24AAAAASUVORK5CYII=" name="Picture 80" data-align="left" data-border="0" width="54" height="14" />  

  

**Resources**

  

/tweets would be a *collection resource*

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAcCAIAAAAlY+zJAAABBElEQVR4nO3asQ2DMBCFYQp3XoYK98yCB2ASDwCzuDcVHoaaPISCEEl5PgR6X2U3BP2yLgU267pW0pZl6ft+GAbxJz+L9z6EYK3F2pT4gbZtp2kq8eRnwVHLOaeUKvHQOMusfIYUzrkYo3BoTAxWvkAQZBEOzbn8F7IUmdH0i6GVMLQShlbC0EoYWglDK9lCd103zzMWdV2P43jzG72UOSoDFtiydQnmqLy7bEkKZ7QSg7l8PsXY3vYur2YwkflnqGAbHYyrgDNaCUMrYWglDK2EoZUIh/be87PhL2QRDh1CyDnzQ/hZ0zTIIhzaWptScs6x9Q6Vi1yg2cUYeSWs+l4J29cfGO1rSxiLT+sAAAAASUVORK5CYII=" name="Picture 81" data-align="left" data-border="0" width="60" height="14" />  

  

/tweets/17 would be a *single resource*

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAAAcCAIAAAAWdDGFAAABDklEQVR4nO3bvw2EIByGYQs6lrGS3llkACdhAJ2FHisZxtr7DIm5nOXxJ/7yPRU0nuENcoWq8zy73I7jmOd5WZbsV6Yna61zTmuNsSrxA+M4bttW4sr0hG0TYwwhdNlzYl+yZX1YcGOM9z5zTjxj2bIJLDsWP3NOnpcNYfGLnJ3UCnOKwpyiMKcozCkKc4rCnKJcOadp2vcdg77v13VtfEf0B3W3BAwwZdH3UnfL5GdK78KzUxSF8/J7R2La7F7obwonJf8KiXE9bJlQDJ6dojCnKMwpCnOKwpyiZM5preXrQq1g8TPndM7FGPkyX33DMGDxM+fUWocQjDEsWhNaFnltOvHe86OGatJHDWn8Ae7ea0uRGfgrAAAAAElFTkSuQmCC" name="Picture 82" data-align="left" data-border="0" width="77" height="14" />  

  

**Given a data model, design RESTful endpoints that interact with the data model to define application functionality**

  

Given the table:

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAAEuCAIAAADwWjztAAADs0lEQVR4nO3dsWoqURRA0RSDmsLC//+/tKZyRoLwbkbIF8zjwmYtyLmkO7BRy7N8fX2t6/q5+yBh3S3j7++f2StxpOVyuWzbdtnNXoZjbLtlfA+PZ8zb7TZ7JY5xv99/085eg/9F2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNWrZt+9jvOX1/f89ehmO8m7qpl+WmXpCbellu6sVJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZ0mZJmyVtlrRZy+PxGM+Yr9dr9jIc4+fnZ8zl+XyO57mbvRJHWs7n84g65ul0mr0Mxxif2t/Da39pr9fr7JU4xvh5dVOvTNosabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzZI2S9osabOkzVre99fGXNd19jIcY9u2MZd30XU3eyWOtFwulxH5spu9DMfYdsvn5+d4xrzdbrNX4hj3+91NvTJps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZL2ixps6TNkjZreTwe4xnz9XrNXoZjvO8kLs/nczzP3eyVONJyPp9H1DFPp9PsZTjG+NT+Hl77S3u9XmevxDHGz6ubemXSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW2WtFnSZkmbJW3W8r6/Nua6rrOX4Rjbto25vIuuu9krcaR/DaDY6ng0uMMAAAAASUVORK5CYII=" name="Picture 83" data-align="left" data-border="0" width="79" height="151" />  

  

**Tweets**

  

id

  

message

  

createdAt

  

<span id="page4"></span> updatedAt

These might be some good RESTful endpoints for an API (These would return JSON)

  

<table width="100%" data-cellpadding="1" data-cellspacing="0"><colgroup><col style="width: 23%" /><col style="width: 21%" /><col style="width: 55%" /></colgroup><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="20" style="border-top: 1.00pt solid #dddddd; border-bottom: none; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><strong>Path</strong></p></td><td width="21%" style="border-top: 1.00pt solid #dddddd; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><strong>HTTP Verb</strong></p></td><td width="55%" style="border-top: 1.00pt solid #dddddd; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><strong>Meaning</strong></p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="5" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><br />
</p></td><td width="21%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td><td width="55%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" style="border-top: none; border-bottom: none; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p>/api/tweets</p></td><td width="21%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>GET</p></td><td width="55%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>Get an list of your tweets</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="6" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><br />
</p></td><td width="21%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td><td width="55%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>/api/tweets</p></td><td width="21%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>POST</p></td><td width="55%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>Create a new tweet</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="6" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td><td width="21%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td><td width="55%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" style="border-top: none; border-bottom: none; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p>/api/tweets/17</p></td><td width="21%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>GET</p></td><td width="55%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>Get the details of a tweet with the id of 17</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="6" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><br />
</p></td><td width="21%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td><td width="55%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>/api/tweets/17</p></td><td width="21%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>PUT/PATCH</p></td><td width="55%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>Update a tweet with the id of 17</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="6" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td><td width="21%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td><td width="55%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" style="border-top: none; border-bottom: none; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p>/api/tweets/17</p></td><td width="21%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>DELETE</p></td><td width="55%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>Delete a tweet with the id of 17</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="5" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><br />
</p></td><td width="21%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td><td width="55%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td></tr></tbody></table>

  

While these might be good RESTful endpoints for a frontend (These would return HTML)

  

<table width="100%" data-cellpadding="1" data-cellspacing="0"><colgroup><col style="width: 23%" /><col style="width: 20%" /><col style="width: 56%" /></colgroup><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="20" style="border-top: 1.00pt solid #dddddd; border-bottom: none; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><strong>Path</strong></p></td><td width="21%" style="border-top: 1.00pt solid #dddddd; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><strong>HTTP Verb</strong></p></td><td width="56%" style="border-top: 1.00pt solid #dddddd; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><strong>Meaning</strong></p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="5" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><br />
</p></td><td width="21%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td><td width="56%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" style="border-top: none; border-bottom: none; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p>/tweets</p></td><td width="21%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>GET</p></td><td width="56%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>Show a page of tweets</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="6" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><br />
</p></td><td width="21%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td><td width="56%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>/tweets/new</p></td><td width="21%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>GET</p></td><td width="56%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>Show a form to add a new tweet</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="6" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td><td width="21%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td><td width="56%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" style="border-top: none; border-bottom: none; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p>/tweets</p></td><td width="21%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>POST</p></td><td width="56%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>Create a new tweet</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="6" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><br />
</p></td><td width="21%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td><td width="56%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>/tweets/17</p></td><td width="21%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>GET</p></td><td width="56%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>Show a page displaying a single tweet</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="6" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td><td width="21%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td><td width="56%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" style="border-top: none; border-bottom: none; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p>/tweets/17/edit</p></td><td width="21%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>GET</p></td><td width="56%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>Show a form to edit a tweet with the id of 17</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="6" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><br />
</p></td><td width="21%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td><td width="56%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>/tweets/17</p></td><td width="21%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>PUT/PATCH</p></td><td width="56%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p>Update a tweet with the id of 17</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="6" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td><td width="21%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td><td width="56%" data-bgcolor="#f8f8f8" style="background: #f8f8f8"><p><br />
</p></td></tr></tbody><tbody><tr class="odd" data-valign="bottom"><td width="23%" height="19" style="border-top: none; border-bottom: none; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p>/tweets/17</p></td><td width="21%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>DELETE</p></td><td width="56%" style="border-top: none; border-bottom: none; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p>Delete a tweet with the id of 17</p></td></tr><tr class="even" data-valign="bottom"><td width="23%" height="5" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: 1.00pt solid #dddddd; border-right: 1.00pt solid #dddddd; padding: 0in 0.01in"><p><br />
</p></td><td width="21%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td><td width="56%" style="border-top: none; border-bottom: 1.00pt solid #dddddd; border-left: none; border-right: 1.00pt solid #dddddd; padding-top: 0in; padding-bottom: 0in; padding-left: 0in; padding-right: 0.01in"><p><br />
</p></td></tr></tbody></table>

  

**Recall that RESTful is not a standard (like ECMAScript or URLs), but a common way to organize data interactions**

  

The reason we call it *'RESTful'* is because it is more of an idea or a set of

  

guidelines for building APIs which conform nicely with how the web already works.

  

**Explain how RESTful APIs are meant to be stateless**

  

This means that there is no necessary session between the client and the server. Data received from the server can be used by the client independently. This allows you to have short discrete operations. Luckily, this is a natural fit for HTTP operations in which requests are intended to be independent and short-lived.

  

**Use the express.json() middleware to parse HTTP request bodies with type application/json**

  

Since you are creating an API working with JSON data, you'll want to update your app.js file to have your application use the express.json() middleware. The express.json() middleware is needed to automatically parse request body content formatted in JSON so that it is available via the req.body property.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAABaCAIAAAAjPFfmAAADQ0lEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+AMfWkA5nv7ZJwAAAABJRU5ErkJggg==" name="Picture 84" data-align="left" data-border="0" width="967" height="45" />  

  

  

app.use(express.json());

  

  

**Determine the maximum data an API response needs and map the content from a Sequelize object to a more limited data object**

  

Instead of this which will return everything about the user, including

  

the hashed password

<img src="data:image/png;base64,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" name="Picture 85" data-align="left" data-border="0" width="967" height="84" />  

  

  

app.get('/users/:id', asyncHandler(**async** (req, res) => {

  

**const** user = **await** User.findByPk(req.params.id);

  

res.json(user);

  

}));

  

  

We can build a new POJO to return instead of the user object like this:

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAAEqCAIAAACOaVGTAAAJqUlEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+ANnTkN50REKsAAAAABJRU5ErkJggg==" name="Picture 86" data-align="left" data-border="0" width="967" height="149" />  

  

  

app.get('/users/:id', asyncHandler(**async** (req, res) => {

  

**const** user = **await** User.findByPk(req.params.id);

  

-   *A new POJO containing only user.id and user.email* **const** userData = {

id: user.id,

  

email: user.email }; res.json(userData);

  

}));

  

  

If you have a resource that returns a *collection* you can use map in a handy way

  

to build a new POJO for each model object including only the info you want.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAAEqCAIAAACOaVGTAAAJqUlEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+ANnTkN50REKsAAAAABJRU5ErkJggg==" name="Picture 87" data-align="left" data-border="0" width="967" height="149" />  

  

  

app.get('/users', asyncHandler(**async** (req, res) => {

  

**const** users = **await** User.all()

  

-   *A new array of POJOs containing only the user.id ans user.email fields* **const** usersData = users.map(user => {

id: user.id,

  

email: user.email }); res.json(usersData)

  

}));

  

  

**Define a global Express error handler to return appropriate responses and status codes given a specific Accept header in the HTTP request**

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAABECAIAAAAz9+PLAAAAI0lEQVR4nGN59+7d+/fvGTAAC6bQqMSoxKjEqMSoxKgEPSUAqIsGqB6yQTkAAAAASUVORK5CYII=" name="Picture 88" data-align="left" data-border="0" width="4" height="34" />  

  

Note: we didn't do this in class, so you aren't required to know this, but here's

  

<span id="page5"></span> an example you can use for projects.

You would need to do this if your application is a *single* express server

  

with both a JSON API and Pug templates that return HTML.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAAL/CAIAAAD9csaSAAAYHklEQVR4nO3cMbLaQBBAQQutxP2vKxBrPthVPoCLF9CdzNZEE79gx5zz11/ned7v9383AAAAAADwHy3Lsr48H+/NeA+FGgAAAACAD5hz3l/WdR1jLMvy06nfq/o2AAAAAAC+yPlyvV6HSA0AAAAAQOU4jiFSAwAAAABQmXOO+gYAAAAAAL6aTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUdGoAAAAAAEo6NQAAAAAAJZ0aAAAAAICSTg0AAAAAQEmnBgAAAACgpFMDAAAAAFDSqQEAAAAAKOnUAAAAAACUxrqu53nWZwAAAAAA8I2WZRnbts05H49HfQwAAAAAAF9nPD3Hvu/HcUjVAAAAAAB80rZt67r++Z963/fb7eYDEAAAAAAAPmPf98vl8nz8BtuMWcokeB//AAAAAElFTkSuQmCC" name="Picture 89" data-align="left" data-border="0" width="967" height="383" />  

  

  

-   *Catch unhandled requests and forward to error handler.* app.use((req, res, next) => {

**const** err = **new** Error("The requested resource couldn't be found."); err.status = 404;

next(err);

  

});

  

-   *Error handler that returns the correct type of data*

  

-   *based on the \`Accept\` header*

  

app.use((err, req, res, next) => {

  

res.status(err.status || 500);

  

**const** acceptHeader = req.get("Accept");

  

**const** errorData = {

  

title: err.title || "Server Error",

  

message: err.message,

  

stack: isProduction ? null : err.stack

  

}

  

**if** (acceptHeader === 'text/html') {

  

res.render('error-page', errorData)

  

} **else if** (acceptHeader === 'application/json') { res.json(errorData);

} **else** { res.send("Server Error");

}

  

});

  

  

**Define Cross-Origin Resource Sharing (CORS) and how it is implemented in some Web clients**

  

By default JavaScript running in the browser can only access API resources from the same origin (i.e. domain, protocol, port).

  

CORS works by setting HTTP Headers on the API endpoint which tell the browser if

  

a particular domain, protocol, port combination is allowed to access that resource

  

on the API.

  

**Configure your API to use CORS to prevent unauthorized access from browser-based Web requests**

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAABaCAIAAAAjPFfmAAADQ0lEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+AMfWkA5nv7ZJwAAAABJRU5ErkJggg==" name="Picture 90" data-align="left" data-border="0" width="967" height="45" />  

  

  

npm install cors

  

  

This would allow an application running on localhost port 4000 to access this API

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAABaCAIAAAAjPFfmAAADQ0lEQVR4nO3cOZLbQBAAQRLH/P+9GAIQYqUvaMtgpjGH13YZvd33/fox5zzP8wUAAAAAAP/fGGNZluex/f0fx3FdVzoSAAAAAABf5DiOfd/Xdd1eIjUAAAAAAIU553NuzyVSAwAAAACQ+Hw+m53UAAAAAABU7vve6hkAAAAAAPhqOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABKOjUAAAAAACWdGgAAAACAkk4NAAAAAEBJpwYAAAAAoKRTAwAAAABQ0qkBAAAAACjp1AAAAAAAlHRqAAAAAABK27qu53nWYwAAAAAA8I3e7/e27/t939d11cMAAAAAAPB1tsdzjTGO45CqAQAAAAD4Tfu+r+v6bz/1GGPOaQEIAAAAAAC/Y4yxLMvz+AMfWkA5nv7ZJwAAAABJRU5ErkJggg==" name="Picture 91" data-align="left" data-border="0" width="967" height="45" />  

  

  

app.use(cors({ origin: "http://localhost:4000" }))

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAABECAIAAAAz9+PLAAAAI0lEQVR4nGN59+7d+/fvGTAAC6bQqMSoxKjEqMSoxKgEPSUAqIsGqB6yQTkAAAAASUVORK5CYII=" name="Picture 92" data-align="left" data-border="0" width="4" height="34" />  

  

  

You probably want to store the CORS origin in an environment variable in your

  

.env file instead of hard coding it.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAeCAIAAAD/+uoYAAAAsElEQVR4nO3YsQ0DIQyFYQp33gd6dmEAJvEA7EIPHcNQc08iZaRIKXwg+a98V31CNJjWWs65OWfOuZTiTi2lJCLMjJn2rxhj7/1V1Y9woGOM1hpmwhmfL94BGUKotRJuxRXiHagA08n3+GsA09uGfzK0VobWytBaGVorQ2tlaK0MrZWhtTK0VobWilJKdz3IASYRGWPcsvrw3gNMzNxaCyGc74b4sxbb37XWKxaQe34AJilKL/HyN8wAAAAASUVORK5CYII=" name="Picture 93" data-align="left" data-border="0" width="30" height="15" />  

  

**API Security Objectives**

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB40AAAACCAIAAADD4d18AAAAKklEQVR4nO3YIQEAAAwCsAv618U+BmaLsbQ9AAAAAAAYiacGAAAAAGDoAfn/BdOvVOhIAAAAAElFTkSuQmCC" name="Picture 94" data-align="left" data-border="0" width="967" height="1" />  

  

**Explain the fundamental concepts of OAuth as a way to authenticate users**

  

Oauth 2.0 is a standardized mechanism for authenticating users using a 3rd party

  

Oauth provider.

  

**Describe the workflow of OAuth resource owner password credentials grant (RFC 6749 Section 4.3)**

  

1.  Your application requests authorization from the person

  

1.  The person informs the authorization server that they want to issue an authorization grant for your application

  

1.  The application uses the authorization grant with its secret information to request an access token

  

1.  The authorization server returns an access token

  

1.  Your application uses the access token to gain access to the user's data from the service API

  

1.  The service API returns the resource that the token allows access to

  

**Describe the components of a JSON Web Token (JWT) and how it is constructed**

  

JWT can be used for *authentication* and *authorization*, but they can't be used to

  

decrypt data.

  

*header* - Contains basic info about the JWT such as the typ (type) and

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAIAAACoDqudAAAAp0lEQVR4nO3XoRHAIAyFYUQc+4BnFwZgEgZgFzw4hkHT10tVr3eRqcivaNV3bUUfnXOcc3vvUkprzWmUc661eu9xJr6VUppzqmgQHsRaa4xxg/BsdDUcADHG3jvhTalrODCAIa3v5jNgSNvwzkBSBpIykJSBpAwkZSApA0kZSMpAUoRN9J/famAICw2b6A/DI4QADGEvYqFhE+maoHmGIl9joalPaT5fPXxKJ5riYQwAAAAASUVORK5CYII=" name="Picture 96" data-align="left" data-border="0" width="24" height="14" /> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 95" data-align="left" data-border="0" width="3" height="3" />  

  

alg (algortihm)

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAIAAACoDqudAAAAp0lEQVR4nO3XoRHAIAyFYUQc+4BnFwZgEgZgFzw4hkHT10tVr3eRqcivaNV3bUUfnXOcc3vvUkprzWmUc661eu9xJr6VUppzqmgQHsRaa4xxg/BsdDUcADHG3jvhTalrODCAIa3v5jNgSNvwzkBSBpIykJSBpAwkZSApA0kZSMpAUoRN9J/famAICw2b6A/DI4QADGEvYqFhE+maoHmGIl9joalPaT5fPXxKJ5riYQwAAAAASUVORK5CYII=" name="Picture 97" data-align="left" data-border="0" width="24" height="14" />  

  

*payload* - Contains any extra info you would like to store inside the JWT

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 98" data-align="left" data-border="0" width="3" height="3" />  

  

*signature* - a digital signature created using a hashing algorithm used to verify that the payload hasn't been tampered with. It also verifies the origin of the JWT.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAN0lEQVR4nGWMQQ0AMAwCeSCooioLUXXU8SLLxosjAHe3u2cGQFVJYtiyMTKclPhE7++ikf577g8wLiCSMKaPAAAAAABJRU5ErkJggg==" name="Picture 99" data-align="left" data-border="0" width="3" height="3" />  

  

The JWT token consists of a single string with these three parts separated by the . character. Each part of the token is Base64 encoded.

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAcCAIAAADwcTiEAAAAlUlEQVR4nO3WoRHAIAyFYUQc+4BnFwZgEgZgFzw4hkHT10uvqqakoiJRlLt+R2t+aK1ljJlzppRKKeb9xBhzztZarIm3Qgi99w0Lg0OMMVprJ4dzSSwevO69r7USvlFo3SIo2vtfjwOKvrJ4lFNOOeWU+wWHSn6VC1CE4qKS8pg550AR6o3iopISEdaVbX5GcYWXCl4flIhKJwp6V20AAAAASUVORK5CYII=" name="Picture 100" data-align="left" data-border="0" width="13" height="14" />  
